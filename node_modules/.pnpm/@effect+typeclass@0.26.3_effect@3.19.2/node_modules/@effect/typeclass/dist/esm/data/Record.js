import { dual } from "effect/Function";
import * as Record from "effect/Record";
import * as covariant from "../Covariant.js";
/** @internal */
export const traverse = F => dual(2, (self, f) => F.map(F.productAll(Object.entries(self).map(([key, a]) => F.map(f(a, key), b => [key, b]))), Object.fromEntries));
const traversePartitionMap = F => dual(2, (self, f) => {
  return F.map(traverse(F)(self, f), Record.separate);
});
const traverseFilterMap = F => dual(2, (self, f) => {
  return F.map(traverse(F)(self, f), Record.getSomes);
});
const _map = Record.map;
const _imap = /*#__PURE__*/covariant.imap(_map);
const _partitionMap = Record.partitionMap;
const _filterMap = Record.filterMap;
const _traverse = traverse;
const _traversePartitionMap = traversePartitionMap;
const _traverseFilterMap = traverseFilterMap;
/**
 * @category instances
 * @since 0.24.0
 */
export const getCovariant = () => ({
  imap: _imap,
  map: _map
});
/**
 * @category instances
 * @since 0.24.0
 */
export const Covariant = /*#__PURE__*/getCovariant();
/**
 * @category instances
 * @since 0.24.0
 */
export const getInvariant = () => ({
  imap: _imap
});
/**
 * @category instances
 * @since 0.24.0
 */
export const Invariant = /*#__PURE__*/getInvariant();
/**
 * @category instances
 * @since 0.24.0
 */
export const getFilterable = () => ({
  partitionMap: _partitionMap,
  filterMap: _filterMap
});
/**
 * @category instances
 * @since 0.24.0
 */
export const Filterable = /*#__PURE__*/getFilterable();
/**
 * @category instances
 * @since 0.24.0
 */
export const getTraversable = () => ({
  traverse: _traverse
});
/**
 * @category instances
 * @since 0.24.0
 */
export const Traversable = /*#__PURE__*/getTraversable();
/**
 * @category instances
 * @since 0.24.0
 */
export const getTraversableFilterable = () => ({
  traversePartitionMap: _traversePartitionMap,
  traverseFilterMap: _traverseFilterMap
});
/**
 * @category instances
 * @since 0.24.0
 */
export const TraversableFilterable = /*#__PURE__*/getTraversableFilterable();
//# sourceMappingURL=Record.js.map